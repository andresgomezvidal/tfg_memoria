\section{Technologies and tools in detail}
This section recopilates the main software used in the project for an easier overview.

\subsection{For development and configuration}
\begin{itemize}
	\item Wazuh: Wazuh\cite{wazuh} is the core of this project and some of the configuration of the system had to be done with it. In this project ruleset files were created to detect the targeted threats.
	\item Sysmon: Sysmon\cite{sysmon} reports events based on its configuration, which in most cases give more insight of the status of the system than normal Windows events.
	\item PowerShell: Some basic scripting\cite{memoria_github} was done in PowerShell to mimic attacks and to perform a particular detection with a remote command.
\end{itemize}

\subsection{For pentesting}
\begin{itemize}
	\item PowerShell scripts: Third-party tools written in PowerShell were used to mimic attacks.
	\item PowerShell and Windows builtins: Some harmless PowerShell commands were used in combination with Windows builtins in order to extract useful data for an attacker.
	\item Linux shell programs in GNU/Linux: They were used in order to fully understand how some of the security was implemented in the Windows systems. For example their network share was first tested with the Samba command \textit{smbclient}.
	\item Metasploit: It was used as framework\cite{metasploit} for getting information and to exploit security vulnerabilities, mimicking an attacker.
	\item Mimikatz: Mimikatz\cite{mimikatz_github} was one of the most used tools for extracting data and gaining privileges.
	\item Other third-party tools were used to dump data from memory or extract credentials. They were only used in order to gather enough data to assure the identification of attack patterns from different sources.
	\item OpenSSL\cite{openssl}: Set of tools for secure communications. In this project it was used to encrypt files for crypto ransomware testing.
	\item Trid\cite{trid}: It is a tool for scanning files in order to find their type.
	\item Dharma\cite{dharma}: It is a crypto ransomware malware that was executed in order to test the configuration against a real software.
\end{itemize}

\subsection{For processing logs}
\begin{itemize}
	\item The Kibana plugin for Wazuh: It provides an easy and fashionable way to show the triggered alerts with a web browser. It was only used at first, before it felt too slow and shallow.
	\item Linux shell programs in GNU/Linux: The most used were Grep, AWK and Tmux. They were used to process the logs of Wazuh for most of the project. These logs include the received events and the triggered alerts. They were a good fit because they are easy to write commands on, they are fast and the queries needed for this project were quite simple. Grep was used for finding events with certain patterns. AWK to parse logs for easier comprehension. Tmux is a terminal multiplexer, which is basically a program that controls a bunch of terminals, and was used to manage the shells and to find and copy strings in them, similar to an Integrated Development Environment (IDE).
	\item The Windows Event Viewer: To troubleshoot inspecting the logs generated from Sysmon. Some times under heavy load (particularly after booting) the agent could not send the data to the manager without a significant delay of a couple of minutes.
\end{itemize}

\subsection{For the documentation}
\begin{itemize}
	\item Git: It was used to store the memory and manage its changes, through a Github repository\cite{memoria_github}.
	\item Vim + \LaTeX + Latexmk: Vim was used as the text editor to write all the documentation and most of the ruleset and scripts. This was easier for me than using other editors because I have a fair amount of customization for Vim, in my general purpose dotfiles\cite{andresgomezvidal_gitlab}. \LaTeX was the medium the memory was writen in, with Latexmk for its compilation.
	\item Draw.io: A web application for general purpose drawing\cite{drawio}. It was used for making diagrams in this project.
	\item Simplescreenrecorder: It is a GNU/Linux program. It was used to record videos during critical tasks using the virtual machines. These serve just as a way to assure the student these tasks were done exactly as he remembers them, or how to reproduce them.
	They did not take much disk space (about $\sim$110MB per hour) while still having decent image quality. The recording settings were 15 frames per second and h264 codec with a constant rate factor of 32.
	\item Linux shell programs: Some simple commands to make sure no minor elements are forgotten. For example that all references and images are used, and that any relevant acronyms are explained in the glossary.
	\item Aspell: It is a spell checker\cite{aspell}, this is a program for reviewing that words are writen correctly in the specified language. This program has a mode for \LaTeX that ignores its commands without the need of a special dictionary.
\end{itemize}

