\chapter{Planning}

%Planificación e presupostos: debe incluír a estimación do costo (presuposto) e dos 
%recursos necesarios para efectuar a implantación do Traballo, xunto coa planificación 
%temporal do mesmo e a división en fases e tarefas. Recoméndase diferenciar os costos relativos a persoal dos relativos a outros gastos como instalacións e equipos.








%WBS==EDT (translation!)
\section{Initial WBS}

%\node[style1] {Improvements in IDS, adding functionality to Wazuh}
%child {node[style2] (c1) {Project management}}
%child {node[style2] (c2) {Increment 1: Rules/decoders for common attacks in Windows Server}}
%child {node[style2] (c3) {Increment 2: Rules/decoders with data from Sysmon}}
%child {node[style2] (c4) {Increment 3: Detection/action against ransomware}}
%child {node[style2] (c5) {Increment 4: Adapt Wazuh configuration to typical requirements from enterprises}}
%child {node[style2] (c6) {Increment 5: Explore solutions in problems with GPDR}}
%child {node[style2] (c7) {Increment 6: Rules/decoders for GNU/Linux}}
%child {node[style2] (c8) {Increment 7: VirusTotal integration}};

%\begin{tikzpicture}[%
    %grow=right,
    %anchor=west,
    %growth parent anchor=east,
    %parent anchor=east,
    %level 1/.style={sibling distance=4cm},
    %level 2/.style={sibling distance=2.5em},
    %level distance=1cm]

%\node[root] (root) {Drawing diagrams}
    %child {node[onode] (c1) {Defining node and arrow styles}
        %child {node[tnode] (c11) {Setting shape}}
        %child {node[tnode] (c12) {Choosing color}}
        %child {node[tnode] (c13) {Adding shading}}
    %}
    %child {node[onode] (c2) {Positioning the nodes}
        %child {node[tnode] (c21) {Using a Matrix}}
        %child {node[tnode] (c22) {Relatively}}
        %child {node[tnode] (c23) {Absolutely}}
        %child {node[tnode] (c24) {Using overlays}}
    %}
    %child {node[onode] (c3) {Drawing arrows between nodes}
        %child {node[tnode] (c31) {Default arrows}}
        %child {node[tnode] (c32) {Arrow library}}
        %child {node[tnode] (c33) {Resizing tips}}
        %child {node[tnode] (c34) {Shortening}}
        %child {node[tnode] (c35) {Bending}}
%};
%\end{tikzpicture}
\newpage
{\footnotesize
\begin{forest} for tree={
    grow=east,
    growth parent anchor=east,
    parent anchor=east,
    child anchor=west,
    edge path={\noexpand\path[\forestoption{edge},->, >={latex}] 
         (!u.parent anchor) -- +(5pt,0pt) |- (.child anchor)
         \forestoption{edge label};}
}
[Improvements in IDS: adding functionality to Wazuh, root
    [Closing of the project, onode
        [Project documentation, tnode]
        [Pull request to the official ruleset repository, tnode]
    ]
    [Increment 7: VirusTotal integration, onode
        [Improved integration with antivirus and website scanners, tnode]
        %[Study of the present status, tnode]
    ]
    [Increment 6: Additional detection for GNU/Linux, onode
        [Rules and decoders, tnode]
        %[Analysis and writing of rules/decoders, tnode]
        %[Study of the present status, tnode]
    ]
    [Increment 5: Explore solutions in problems with GPDR, onode
        [Rules and decoders, tnode]
        %[Analysis and writing of rules/decoders, tnode]
        %[Study of GPDR issues, tnode]
    ]
    [Increment 4: Adapt Wazuh configuration to typical requirements from enterprises, onode
        [Configuration changes, tnode]
        %[Analysis of requirements, tnode]
    ]
    [Increment 3: Detection/action against ransomware, onode
        [Rules and decoders, tnode]
        %[Analysis and writing of rules/decoders and actions, tnode]
        %[Study of ransomware attack patterns, tnode]
    ]
    [Increment 2: Use of data from Sysmon, onode
        [Rules and decoders, tnode]
        %[Analysis and writing of rules/decoders, tnode]
        %[Study of Sysmon tools, tnode]
    ]
    [Increment 1: Common attacks in Windows Server, onode
        [Rules and decoders, tnode]
        %[Detailed study of each attack and patterns, tnode]
    ]
    [Beginning of the project, onode
        [Setup of the work environment, tnode]
        [Study of Wazuh documentation and related tools and technologies, tnode]
    ]
    [Project management, onode
        [Cost management, tnode]
        [Configuration management, tnode]
        [Time management, tnode]
        [Risk management, tnode]
        [Requirement management, tnode]
        [Scope management, tnode]
    ]
]
\end{forest}
}


\section{Initial planning}

From the draft proposal to the end of the project.


\newcommand{\Plen}{22} %duration of the project in weeks

%independent duration in days
\newcommand{\Duno}{21}
\newcommand{\Ddos}{7}
\newcommand{\Dtres}{28}
\newcommand{\Dcuatro}{7}
\newcommand{\Dcinco}{21}
\newcommand{\Dseis}{7}
\newcommand{\Dsiete}{21}
\newcommand{\Docho}{14}
\newcommand{\Dnueve}{14}
\newcommand{\Ddiez}{14}

%dependent duration (ending time) in weeks
\newcommand{\Funo}{\the\numexpr \Duno /7 \relax}
\newcommand{\Fdos}{\the\numexpr \Funo + \Ddos/7 \relax}
\newcommand{\Ftres}{\the\numexpr \Fdos + \Dtres/7 \relax}
\newcommand{\Fcuatro}{\the\numexpr \Ftres + \Dcuatro/7 \relax}
\newcommand{\Fcinco}{\the\numexpr \Fcuatro + \Dcinco/7 \relax}
\newcommand{\Fseis}{\the\numexpr \Fcinco + \Dseis/7 \relax}
\newcommand{\Fsiete}{\the\numexpr \Fseis + \Dsiete/7 \relax}
\newcommand{\Focho}{\the\numexpr \Fsiete + \Docho/7 \relax}
\newcommand{\Fnueve}{\the\numexpr \Focho + \Dnueve/7 \relax}
\newcommand{\Fdiez}{\the\numexpr \Fnueve + \Ddiez/7 \relax}

%dependent duration (ending time) in days
\newcommand{\Frequirement}{2}



\begin{figure}[h!bt]
	\begin{center}
	\begin{ganttchart}[
	hgrid style/.style={draw=black, line width=.3pt},
	vgrid={*1{draw=black!5, line width=.75pt}},
	link/.style={-latex},
	]{1}{\Plen}
		\newganttlinktypealias{straight}{f-s}
		\setganttlinklabel{straight}{}
		\gantttitle{Planning of the project in weeks}{\Plen} \\
		\gantttitlelist{1,...,\Plen}{1} \\

		\ganttbar[name=Draft]{Draft proposal}{1}{\Funo} \\
		\ganttbar[name=Beginning]{Beginning of the project}{\the\numexpr \Funo + 1 \relax}{\Fdos} \\
		\ganttbar[name=Increment1]{Increment 1}{\the\numexpr \Fdos + 1 \relax}{\Ftres} \\
		\ganttbar[name=Increment2]{Increment 2}{\the\numexpr \Ftres + 1 \relax}{\Fcuatro} \\
		\ganttbar[name=Increment3]{Increment 3}{\the\numexpr \Fcuatro + 1 \relax}{\Fcinco} \\
		\ganttbar[name=Increment4]{Increment 4}{\the\numexpr \Fcinco + 1 \relax}{\Fseis} \\
		\ganttbar[name=Increment5]{Increment 5}{\the\numexpr \Fseis + 1 \relax}{\Fsiete} \\
		\ganttbar[name=Increment6]{Increment 6}{\the\numexpr \Fsiete + 1 \relax}{\Focho} \\
		\ganttbar[name=Increment7]{Increment 7}{\the\numexpr \Focho + 1 \relax}{\Fnueve} \\
		\ganttbar[name=Closing]{Closing of the project}{\the\numexpr \Fnueve + 1 \relax}{\Fdiez} \\
		\ganttbar[name=Management]{Project management}{1}{\Plen} \\

		\ganttlink[link type=straight]{Draft}{Beginning}
		\ganttlink[link type=straight]{Beginning}{Increment1}
		\ganttlink[link type=straight]{Increment1}{Increment2}
		\ganttlink[link type=straight]{Increment2}{Increment3}
		\ganttlink[link type=straight]{Increment3}{Increment4}
		\ganttlink[link type=straight]{Increment4}{Increment5}
		\ganttlink[link type=straight]{Increment5}{Increment6}
		\ganttlink[link type=straight]{Increment6}{Increment7}
		\ganttlink[link type=straight]{Increment7}{Closing}

	\end{ganttchart}
	\end{center}
	\caption{Initial planning}
\end{figure}




%makes no sense by days
%\begin{figure}[h!bt]
%	\begin{center}
%	\begin{ganttchart}[
%	hgrid style/.style={draw=black, line width=.3pt},
%	vgrid={*1{draw=black!5, line width=.75pt}},
%	link/.style={-latex},
%	]{1}{\Duno}
%		\newganttlinktypealias{straight}{f-s}
%		\setganttlinklabel{straight}{}
%		\gantttitle{Planning in days}{\Duno} \\
%		\gantttitlelist{1,...,\Duno}{1} \\
%
%		\ganttgroup[name=Management]{Project management}{1}{\Duno} \\
%
%		\ganttbar[name=Scope]{Scope management}{1}{1}
%		\ganttbar[name=Requirement]{Requirement management}{1}{\Frequirement}
%        \ganttbar[name=Risk]{Risk management}{\Frequirement}{15}
%        \ganttbar[name=Time]{Time management}{\Frequirement}{\Duno}
%        \ganttbar[name=Configuration]{Configuration management}{\Frequirement}{10}
%        \ganttbar[name=Cost]{Cost management}{\Frequirement}{}
%
%		\ganttlink[link type=straight]{Scope}{Requirement}
%		\ganttlink[link type=straight]{Requirement}{Risk}
%		\ganttlink[link type=straight]{Requirement}{Time}
%		\ganttlink[link type=straight]{Requirement}{Configuration}
%		\ganttlink[link type=straight]{Requirement}{Cost}
%
%	\end{ganttchart}
%	\end{center}
%	\caption{Detailed planning of ``Project management''}
%\end{figure}






\section{Final planning}
