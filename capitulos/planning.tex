\section{Time management}



\subsection{Metodology}

%Planificación e presupostos: debe incluír a estimación do costo (presuposto) e dos 
%recursos necesarios para efectuar a implantación do Traballo, xunto coa planificación 
%temporal do mesmo e a división en fases e tarefas. Recoméndase diferenciar os costos relativos a persoal dos relativos a outros gastos como instalacións e equipos.





%WBS==EDT (translation!)
\subsection{WBS}
The Work Breakdown Structure is a decomposition of the project into smaller components (tasks).

\newpage
{\footnotesize
\begin{forest} for tree={
    grow=east,
    growth parent anchor=east,
    parent anchor=east,
    child anchor=west,
    edge path={\noexpand\path[\forestoption{edge},->, >={latex}] 
         (!u.parent anchor) -- +(5pt,0pt) |- (.child anchor)
         \forestoption{edge label};}
}
[Improvements in IDS: adding functionality to Wazuh, root
    [Closing of the project, onode
        [Project documentation, tnode]
        [Pull request to the official ruleset repository, tnode]
    ]
    [Increment 7: \IncrementoSiete, onode
        [Improved integration with antivirus and website scanners, tnode]
        %[Study of the present status, tnode]
    ]
    [Increment 6: \IncrementoSeis, onode
        [Rules and decoders, tnode]
        %[Analysis and writing of rules/decoders, tnode]
        %[Study of the present status, tnode]
    ]
    [Increment 5: \IncrementoCinco, onode
        [Rules and decoders, tnode]
        %[Analysis and writing of rules/decoders, tnode]
        %[Study of GPDR issues, tnode]
    ]
    [Increment 4: \IncrementoCuatro, onode
        [Configuration changes, tnode]
        %[Analysis of requirements, tnode]
    ]
    [Increment 3: \IncrementoTres, onode
        [Rules and decoders, tnode]
        %[Analysis and writing of rules/decoders and actions, tnode]
        %[Study of ransomware attack patterns, tnode]
    ]
    [Increment 2: \IncrementoDos, onode
        [Rules and decoders, tnode]
        %[Analysis and writing of rules/decoders, tnode]
        %[Study of Sysmon tools, tnode]
    ]
    [Increment 1: \IncrementoUno, onode
        [Rules and decoders, tnode]
        %[Detailed study of each attack and patterns, tnode]
    ]
    [Beginning of the project, onode
        [Setup of the work environment, tnode]
        [Study of Wazuh documentation and related tools and technologies, tnode]
    ]
    [Project management, onode
        [Cost management, tnode]
        [Configuration management, tnode]
        [Time management, tnode]
        [Risk management, tnode]
        [Requirement management, tnode]
        [Scope management, tnode]
    ]
]
\end{forest}
}



\linej
\large\textbf{WBS dictionary}:\normalsize
\begin{enumerate}
	\item \textbf{Project management}
	\begin{enumerate}[label=\alph*]
		\item \textbf{Scope management}: Scope explanation, set the restrictions of the project and determine what is going to be turned in at the end of the project.
		\item \textbf{Requirement management}: Analysis, requirement specification and probably a traceability matrix.
		\item \textbf{Risk management}: Identification, analysis, classification, planning and supervision of risks.
		\item \textbf{Time management}: Planning (initial and real), any planning changes and necessary measures.
		\item \textbf{Configuration management}: Documentation on the management of changes and control version.
		\item \textbf{Cost management}: Cost estimation (direct and indirect) of software, hardware and resources.
	\end{enumerate}

	\item \textbf{Beginning of the project}
	\begin{enumerate}[label=\alph*]
		\item \textbf{Study of Wazuh documentation and related tools and technologies}: Is the base for multiple aspects of the project and if it is done correctly it can mean less hours in related work.
		\item \textbf{Setup of the work environment}: Installation and basic configuration of the virtual machines of the project, like having a functional Wazuh environment.
	\end{enumerate}

	\item \textbf{Increment 1}
	\begin{enumerate}[label=\alph*]
		\item \textbf{Rules and decoders}: The objective is to be able to detect common attacks in Windows Server (specifically 2016 and 2019), but it should be backwards compatible and depending on the difficulty it could be worth to ensure support for Windows 10 Pro too. This rules are the final product of this increment, which probably will need more time than any other increment, because its heavy study and testing.
	\end{enumerate}

	\item \textbf{Increment 2}
	\begin{enumerate}[label=\alph*]
		\item \textbf{Rules and decoders}: It will need a preliminary study of Sysmon and the ways to use its data to improve detection in certain situations. It is possible that this increment will modify rules and decoders of the previous one.
	\end{enumerate}

	\item \textbf{Increment 3}
	\begin{enumerate}[label=\alph*]
		\item \textbf{Rules and decoders}: This increment tries to produce rules and decoders to detect ransomware and launch alerts and maybe actions against the attack, like rollback to a previous backup or try to stop the attack from repeating in a short period of time.
	\end{enumerate}

	\item \textbf{Increment 4}
	\begin{enumerate}[label=\alph*]
		\item \textbf{Configuration changes}: Adapt Wazuh to the typical requirements from enterprises. This means that an enterprise could choose from a set of templates, with different security profiles.
	\end{enumerate}

	\item \textbf{Increment 5}
	\begin{enumerate}[label=\alph*]
		\item \textbf{Rules and decoders}: Most should be focused on detecting changes on the protected files. Part of this increment should be the investigation on normal problems of these technologies and recent innovations and solutions.
	\end{enumerate}

	\item \textbf{Increment 6}
	\begin{enumerate}[label=\alph*]
		\item \textbf{Rules and decoders}: There would be preliminary study to do, but the increment should be about expanding the already done work in the field, probably focusing in services and security technologies like SELinux or AppArmor.
	\end{enumerate}

	\item \textbf{Increment 7}
	\begin{enumerate}[label=\alph*]
		\item \textbf{Improved integration with antivirus and website scanners}: The idea is to improve the detection as much as possible with the help of VirusTotal malware scanners, which is updated consistently and so it would mean a consistently updated detection for a system with Wazuh without the need to write new rules and decoders. Obviously there is a difference in the scope and objectives of these technologies, which can be redundant, but this could be certainly interesting in some cases.
	\end{enumerate}

	\item \textbf{Closing of the project}
	\begin{enumerate}[label=\alph*]
		\item \textbf{Pull request to the official ruleset repository}: There is a fundamental need to investigate the correct way to organize the the forked repository for a pull request to an official repository like this. In any case the status of the fork should be checked before and there should be a high amount of commits and use a different branch for each functionality, allowing an easier way to select what to admit or not in the official repository.
		\item \textbf{Project documentation}: The memory and presentation of the project and whatever other documentation if necessary.
	\end{enumerate}
\end{enumerate}







\subsection{Initial planning}


%TODO?
%holidays in gantt
%marked in the calendar or adding more days manually
	%https://tex.stackexchange.com/questions/106419/how-to-colour-the-pgfgantt-canvas-based-on-calendar-dates
	%https://tex.stackexchange.com/questions/163482/pgfgantt-customization-of-canvas-to-mark-vacations/163521




%Study of attack implies writing tests (attacks)

%TODO: at least set dates for increments



%independent duration in days
%\newcommand{\Duno}{21} %draft
\newcommand{\Duno}{0}
\newcommand{\Ddos}{7}
\newcommand{\Dtres}{28}
\newcommand{\Dcuatro}{7}
\newcommand{\Dcinco}{21}
\newcommand{\Dseis}{7}
\newcommand{\Dsiete}{21}
\newcommand{\Docho}{14}
\newcommand{\Dnueve}{14}
\newcommand{\Ddiez}{14}

%dependent duration (ending time) in weeks
\newcommand{\Funo}{\the\numexpr \Duno /7 \relax}
\newcommand{\Fdos}{\the\numexpr \Funo + \Ddos/7 \relax}
\newcommand{\Ftres}{\the\numexpr \Fdos + \Dtres/7 \relax}
\newcommand{\Fcuatro}{\the\numexpr \Ftres + \Dcuatro/7 \relax}
\newcommand{\Fcinco}{\the\numexpr \Fcuatro + \Dcinco/7 \relax}
\newcommand{\Fseis}{\the\numexpr \Fcinco + \Dseis/7 \relax}
\newcommand{\Fsiete}{\the\numexpr \Fseis + \Dsiete/7 \relax}
\newcommand{\Focho}{\the\numexpr \Fsiete + \Docho/7 \relax}
\newcommand{\Fnueve}{\the\numexpr \Focho + \Dnueve/7 \relax}
\newcommand{\Fdiez}{\the\numexpr \Fnueve + \Ddiez/7 \relax}

%dependent duration (ending time) in days
\newcommand{\Frequirement}{2}

\newcommand{\Plen}{19} %duration of the project in weeks

\newcommand{\Dlen}{0} %variable used later

\newcommand{\Cimportant}{red!70}
\newcommand{\Coptional}{cyan!30}
\newcommand{\Cnormal}{yellow!80}


The tasks marked in \colorbox{\Cimportant}{red} are essential to the project, meanwhile the ones marked in \colorbox{\Coptional}{cyan} are considered optional and only will be done if there is enough time left. The tasks marked in \colorbox{\Cnormal}{yellow} are normal, and they are used when there is no need to distinguish between essential and optional.
\linej
\linej
The next Gantt diagram shows the initial planning, from the draft proposal (31/10/2018) to the end of the project (TODO/02/2019).
\linej
Furthermore the last two weeks are marked with a grey overlay to mark that there are only about 17 weeks before the due date of this project (in February). This difference is because the estimation of the tasks was made by the student and so it is not reliable, which means that it could be optimistic or pessimist. Thus the need to either reduce tasks or have more that there were expected to fit.


\begin{figure}[H]
	\begin{center}
	\begin{ganttchart}[
		vgrid
	]{1}{\Plen}
		\newganttlinktypealias{straight}{f-s}
		\setganttlinklabel{straight}{}
		\gantttitle{Planning of the project in weeks}{\Plen} \\
		\gantttitlelist{1,...,\Plen}{1} \\


	\ganttbar[name=fuera-de-plazo-top,bar/.style={fill=none, draw=none}]{}{18}{\Plen} 			% top node


		\ganttgroup{Project management}{1}{\Plen} \\
		%\ganttbar[name=Draft]{Draft proposal}{1}{\Funo} \\
		\ganttbar[name=Beginning,bar/.append style={fill=\Cimportant}]{Beginning of the project}{\the\numexpr \Funo + 1 \relax}{\Fdos} \\
		\ganttbar[name=Increment1,bar/.append style={fill=\Cimportant}]{Increment 1}{\the\numexpr \Fdos + 1 \relax}{\Ftres} \\
		\ganttbar[name=Increment2,bar/.append style={fill=\Cimportant}]{Increment 2}{\the\numexpr \Ftres + 1 \relax}{\Fcuatro} \\
		\ganttbar[name=Increment3,bar/.append style={fill=\Cimportant}]{Increment 3}{\the\numexpr \Fcuatro + 1 \relax}{\Fcinco} \\
		\ganttbar[name=Increment4,bar/.append style={fill=\Coptional}]{Increment 4}{\the\numexpr \Fcinco + 1 \relax}{\Fseis} \\
		\ganttbar[name=Increment5,bar/.append style={fill=\Coptional}]{Increment 5}{\the\numexpr \Fseis + 1 \relax}{\Fsiete} \\
		\ganttbar[name=Increment6,bar/.append style={fill=\Coptional}]{Increment 6}{\the\numexpr \Fsiete + 1 \relax}{\Focho} \\
		\ganttbar[name=Increment7,bar/.append style={fill=\Coptional}]{Increment 7}{\the\numexpr \Focho + 1 \relax}{\Fnueve} \\
		\ganttbar[name=Closing,bar/.append style={fill=\Cimportant}]{Closing of the project}{\the\numexpr \Fnueve + 1 \relax}{\Fdiez} \\

		%\ganttlink[link type=straight]{Draft}{Beginning}
		\ganttlink[link type=straight]{Beginning}{Increment1}
		\ganttlink[link type=straight]{Increment1}{Increment2}
		\ganttlink[link type=straight]{Increment2}{Increment3}
		\ganttlink[link type=straight]{Increment3}{Increment4}
		\ganttlink[link type=straight]{Increment4}{Increment5}
		\ganttlink[link type=straight]{Increment5}{Increment6}
		\ganttlink[link type=straight]{Increment6}{Increment7}
		\ganttlink[link type=straight]{Increment7}{Closing}


	\ganttbar[name=fuera-de-plazo-bottom,bar/.style={fill=none, draw=none}]{}{18}{\Plen} 			% bottom node
	\begin{scope}
	\draw [opacity=0.2,line width=28] (fuera-de-plazo-top) -- ($(fuera-de-plazo-bottom)+(0,-15pt)$);
	\end{scope}

	\end{ganttchart}
	\end{center}
	\caption{Planning simplification}
\end{figure}


\linej
The rest of the Gantt diagrams are organized in days, for a more detailed planning.
\linej
It is important to note that these plannings could change during the project, either because controlled measures or any unexpected reason.
\linej
The order they are implemented could change too and that is the reason because these diagrams have not a set date for start and end, yet.
\linej
\linej
In other words, they could be described as the models for the final Gantt diagrams.



\renewcommand{\Dlen}{\Ddos}
\begin{figure}[H]
	\begin{center}
	\begin{ganttchart}[
		x unit=0.8cm,
		y unit title=1.0cm,
		y unit chart=1.0cm,
		vgrid
	]{1}{\Dlen}
		\newganttlinktypealias{straight}{f-s}
		\setganttlinklabel{straight}{}
		\gantttitle{Planning in days}{\Dlen} \\
		\gantttitlelist{1,...,\Dlen}{1} \\


		\ganttgroup[name=prel]{Preliminary study and investigation}{1}{5} \\
		\ganttbar[name=Wazuh,bar/.append style={fill=\Cnormal}]{Wazuh documentation}{1}{3} \\
		\ganttbar[name=Pentesting,bar/.append style={fill=\Cnormal}]{Pentesting tools}{4}{5} \\
		\ganttmilestone[name=fmilestone]{Basic knowledge of the technologies}{5} \\

		\ganttgroup[name=workenv]{Work environment preparations}{6}{7} \\
		\ganttbar[name=InstallVM,bar/.append style={fill=\Cnormal}]{Installing virtual machines}{6}{6} \\
		\ganttbar[name=settingW,bar/.append style={fill=\Cnormal}]{Setting up Wazuh}{6}{7} \\
		\ganttbar[name=settingO,bar/.append style={fill=\Cnormal}]{Setting up other tools}{7}{7} \\

		\ganttmilestone[name=milestone]{Ready to start the first increment}{\Dlen} \\

		\ganttlink{prel}{workenv}
		\ganttlink[link type=straight]{Wazuh}{fmilestone}
		\ganttlink[link type=straight]{Pentesting}{fmilestone}
		\ganttlink{InstallVM}{settingW}
		\ganttlink{InstallVM}{settingO}
		\ganttlink{settingW}{milestone}
		\ganttlink[link type=straight]{settingO}{milestone}

	\end{ganttchart}
	\end{center}
	\caption{``Beginning of the project'' planning}
\end{figure}






\renewcommand{\Dlen}{\Dtres}
\begin{figure}[H]
	\begin{center}
	\begin{ganttchart}[
		x unit=0.30cm,
		y unit title=1.0cm,
		y unit chart=1.0cm,
		vgrid,
		bar/.append style={fill=\Cnormal},
		milestone label font=\itshape\footnotesize,
		group label font=\bfseries\footnotesize,
		bar label font=\footnotesize,
		title label font=\scriptsize,
	]{1}{\Dlen}
		\newganttlinktypealias{straight}{f-s}
		\setganttlinklabel{straight}{}
		\gantttitle{Planning in days}{\Dlen} \\
		\gantttitlelist{1,...,\Dlen}{1} \\

	\newcommand{\Dstudy}{14}
	\newcommand{\Daction}{\the\numexpr \Dstudy + 5 \relax}


		\ganttgroup[name=pstudy]{Preliminary study and investigation}{1}{\Dstudy} \\
		\ganttbar[name=list]{Identify the attacks to detect}{1}{1} \\
		\ganttbar[name=attack]{Detailed study of each attack}{2}{9} \\
		\ganttbar[name=tools]{Detailed study related tools}{2}{9} \\
		\ganttbar[name=detection]{Exploration of detection options}{10}{\Dstudy} \\
		\ganttbar[name=fdetection]{Discard undetectable attacks}{\Dstudy}{\Dstudy} \\
		\ganttbar[name=design]{Basic design of each attack}{\Dstudy}{\Dstudy} \\

		\ganttgroup[name=action]{Code the detection}{\the\numexpr \Dstudy + 1 \relax}{\Daction} \\
		\ganttbar[name=RD]{Writing rules and decoders}{\the\numexpr \Dstudy + 1 \relax}{\Daction} \\
		\ganttbar[name=actions, bar/.append style={fill=\Coptional},]{Automation of actions}{\Daction}{\Daction} \\
		\ganttbar[name=normalWindows, bar/.append style={fill=\Coptional},]{Support for Windows 10}{\Daction}{\Daction} \\
		%\ganttbar[name=additional,bar/.append style={fill=\Coptional}]{Possible additional study and investigation}{\Daction}{\Daction} \\

		\ganttgroup[name=TF]{Testing and fixing}{\the\numexpr \Daction + 1 \relax}{\Dlen} \\
		\ganttbar[name=test]{Testing}{\the\numexpr \Daction + 1 \relax}{\Dlen} \\
		\ganttbar[name=fix]{Fixing}{\the\numexpr \Daction + 1 \relax}{\Dlen} \\

		\ganttmilestone[name=milestone]{Certain attacks can be detected now}{\Dlen} \\

		\ganttlink[link type=straight]{list}{attack}
		\ganttlink{list}{tools}
		\ganttlink{attack}{detection}
		\ganttlink[link type=straight]{tools}{detection}
		\ganttlink{detection}{fdetection}
		\ganttlink{fdetection}{design}
		\ganttlink{pstudy}{action}
		\ganttlink{action}{TF}
		\ganttlink{TF}{milestone}

	\end{ganttchart}
	\end{center}
	\caption{``Increment 1: \IncrementoUno'' planning}
\end{figure}






\renewcommand{\Dlen}{\Dcuatro}
\begin{figure}[H]
	\begin{center}
	\begin{ganttchart}[
		x unit=0.8cm,
		y unit title=1.0cm,
		y unit chart=1.0cm,
		vgrid,
		bar/.append style={fill=\Cnormal},
	]{1}{\Dlen}
		\newganttlinktypealias{straight}{f-s}
		\setganttlinklabel{straight}{}
		\gantttitle{Planning in days}{\Dlen} \\
		\gantttitlelist{1,...,\Dlen}{1} \\

	\newcommand{\Dstudy}{2}
	\newcommand{\Daction}{\the\numexpr \Dstudy + 3 \relax}


		\ganttgroup[name=pstudy]{Preliminary study and investigation}{1}{\Dstudy} \\
		\ganttbar[name=ssysmon]{Detection advantages with Sysmon}{1}{2} \\
		\ganttbar[name=listD]{Identify the cases to change}{2}{2} \\
		\ganttbar[name=listA]{Identify the attacks that can be detected now}{2}{2} \\

		\ganttgroup[name=action]{Code the detection}{\the\numexpr \Dstudy + 1 \relax}{\Daction} \\
		\ganttbar[name=CRD]{Changing rules and decoders}{\the\numexpr \Dstudy + 1 \relax}{\Daction} \\
		\ganttbar[name=ARD]{Adding rules and decoders}{\the\numexpr \Dstudy + 1 \relax}{\Daction} \\

		\ganttgroup[name=TF]{Testing and fixing}{\the\numexpr \Daction + 1 \relax}{\Dlen} \\
		\ganttbar[name=test]{Testing}{\the\numexpr \Daction + 1 \relax}{\Dlen} \\
		\ganttbar[name=fix]{Fixing}{\the\numexpr \Daction + 1 \relax}{\Dlen} \\

		\ganttmilestone[name=milestone]{Improved detection using data from Sysmon}{\Dlen} \\

		\ganttlink[link type=straight]{ssysmon}{listD}
		\ganttlink[link type=straight]{ssysmon}{listA}
		\ganttlink{pstudy}{action}
		\ganttlink{action}{TF}
		\ganttlink{TF}{milestone}

	\end{ganttchart}
	\end{center}
	\caption{``Increment 2: \IncrementoDos'' planning}
\end{figure}





\renewcommand{\Dlen}{\Dcinco}
\begin{figure}[H]
	\begin{center}
	\begin{ganttchart}[
		x unit=0.35cm,
		y unit title=1.0cm,
		y unit chart=1.0cm,
		vgrid,
		bar/.append style={fill=\Cnormal},
		milestone label font=\itshape\footnotesize,
		group label font=\bfseries\footnotesize,
		bar label font=\footnotesize,
		title label font=\footnotesize,
	]{1}{\Dlen}
		\newganttlinktypealias{straight}{f-s}
		\setganttlinklabel{straight}{}
		\gantttitle{Planning in days}{\Dlen} \\
		\gantttitlelist{1,...,\Dlen}{1} \\

	\newcommand{\Dstudy}{10}
	\newcommand{\Daction}{\the\numexpr \Dstudy + 3 \relax}


		\ganttgroup[name=pstudy]{Preliminary study and investigation}{1}{\Dstudy} \\
		\ganttbar[name=list]{Identify the attacks to detect}{1}{1} \\
		\ganttbar[name=attack]{Detailed study of each attack}{2}{7} \\
		\ganttbar[name=tools]{Detailed study related tools}{2}{7} \\
		\ganttbar[name=detection]{Exploration of detection options}{8}{\Dstudy} \\
		\ganttbar[name=fdetection]{Discard undetectable attacks}{\Dstudy}{\Dstudy} \\
		\ganttbar[name=design]{Basic design of each attack}{\Dstudy}{\Dstudy} \\

		\ganttgroup[name=action]{Code the detection}{\the\numexpr \Dstudy + 1 \relax}{\Daction} \\
		\ganttbar[name=RD]{Writing rules and decoders}{\the\numexpr \Dstudy + 1 \relax}{\Daction} \\
		\ganttbar[name=actions, bar/.append style={fill=\Coptional},]{Automation of actions}{\Daction}{\Daction} \\

		\ganttgroup[name=TF]{Testing and fixing}{\the\numexpr \Daction + 1 \relax}{\Dlen} \\
		\ganttbar[name=test]{Testing}{\the\numexpr \Daction + 1 \relax}{\Dlen} \\
		\ganttbar[name=fix]{Fixing}{\the\numexpr \Daction + 1 \relax}{\Dlen} \\

		\ganttmilestone[name=milestone]{Protection against certain ransomware attacks}{\Dlen} \\

		\ganttlink[link type=straight]{list}{attack}
		\ganttlink{list}{tools}
		\ganttlink{attack}{detection}
		\ganttlink[link type=straight]{tools}{detection}
		\ganttlink{detection}{fdetection}
		\ganttlink{fdetection}{design}
		\ganttlink{pstudy}{action}
		\ganttlink{action}{TF}
		\ganttlink{TF}{milestone}

	\end{ganttchart}
	\end{center}
	\caption{``Increment 3: \IncrementoTres'' planning}
\end{figure}







\renewcommand{\Dlen}{\Dseis}
\begin{figure}[H]
	\begin{center}
	\begin{ganttchart}[
		x unit=0.8cm,
		y unit title=1.0cm,
		y unit chart=1.0cm,
		vgrid,
		bar/.append style={fill=\Cnormal},
	]{1}{\Dlen}
		\newganttlinktypealias{straight}{f-s}
		\setganttlinklabel{straight}{}
		\gantttitle{Planning in days}{\Dlen} \\
		\gantttitlelist{1,...,\Dlen}{1} \\

	\newcommand{\Dstudy}{2}
	\newcommand{\Daction}{\the\numexpr \Dstudy + 3 \relax}


		\ganttgroup[name=pstudy]{Preliminary study and investigation}{1}{\Dstudy} \\
		\ganttbar[name=needs]{Find out common needs for enterprises}{1}{\Dstudy} \\
		\ganttbar[name=list]{Identify reasonable configurations}{\Dstudy}{\Dstudy} \\

		\ganttgroup[name=action]{Code the detection}{\the\numexpr \Dstudy + 1 \relax}{\Daction} \\
		\ganttbar[name=RD]{Setting up each configuration}{\the\numexpr \Dstudy + 1 \relax}{\Daction} \\

		\ganttgroup[name=TF]{Testing and fixing}{\the\numexpr \Daction + 1 \relax}{\Dlen} \\
		\ganttbar[name=test]{Testing}{\the\numexpr \Daction + 1 \relax}{\Dlen} \\
		\ganttbar[name=fix]{Fixing}{\the\numexpr \Daction + 1 \relax}{\Dlen} \\

		\ganttmilestone[name=milestone]{Set of Wazuh configurations}{\Dlen} \\

		\ganttlink[link type=straight]{needs}{list}
		\ganttlink{pstudy}{action}
		\ganttlink{action}{TF}
		\ganttlink{TF}{milestone}

	\end{ganttchart}
	\end{center}
	\caption{``Increment 4: \IncrementoCuatro'' planning}
\end{figure}





\renewcommand{\Dlen}{\Dsiete}
\begin{figure}[H]
	\begin{center}
	\begin{ganttchart}[
		x unit=0.35cm,
		y unit title=1.0cm,
		y unit chart=1.0cm,
		vgrid,
		bar/.append style={fill=\Cnormal},
		milestone label font=\itshape\footnotesize,
		group label font=\bfseries\footnotesize,
		bar label font=\footnotesize,
		title label font=\footnotesize,
	]{1}{\Dlen}
		\newganttlinktypealias{straight}{f-s}
		\setganttlinklabel{straight}{}
		\gantttitle{Planning in days}{\Dlen} \\
		\gantttitlelist{1,...,\Dlen}{1} \\

	\newcommand{\Dstudy}{10}
	\newcommand{\Daction}{\the\numexpr \Dstudy + 4 \relax}


		\ganttgroup[name=pstudy]{Preliminary study and investigation}{1}{\Dstudy} \\
		\ganttbar[name=list]{Identify the situations to detect}{1}{1} \\
		\ganttbar[name=attack]{Detailed study of each case}{2}{5} \\
		\ganttbar[name=tools]{Detailed study related tools}{2}{5} \\
		\ganttbar[name=detection]{Exploration of detection options}{6}{\Dstudy} \\
		\ganttbar[name=fdetection]{Discard undetectable cases}{\Dstudy}{\Dstudy} \\
		\ganttbar[name=design]{Basic design of each case}{\Dstudy}{\Dstudy} \\

		\ganttgroup[name=action]{Code the detection}{\the\numexpr \Dstudy + 1 \relax}{\Daction} \\
		\ganttbar[name=RD]{Writing rules and decoders}{\the\numexpr \Dstudy + 1 \relax}{\Daction} \\
		\ganttbar[name=actions, bar/.append style={fill=\Coptional},]{Automation of actions}{\Daction}{\Daction} \\

		\ganttgroup[name=TF]{Testing and fixing}{\the\numexpr \Daction + 1 \relax}{\Dlen} \\
		\ganttbar[name=test]{Testing}{\the\numexpr \Daction + 1 \relax}{\Dlen} \\
		\ganttbar[name=fix]{Fixing}{\the\numexpr \Daction + 1 \relax}{\Dlen} \\

		\ganttmilestone[name=milestone]{Protection for certain GPDR problems}{\Dlen} \\

		\ganttlink[link type=straight]{list}{attack}
		\ganttlink{list}{tools}
		\ganttlink{attack}{detection}
		\ganttlink[link type=straight]{tools}{detection}
		\ganttlink{detection}{fdetection}
		\ganttlink{fdetection}{design}
		\ganttlink{pstudy}{action}
		\ganttlink{action}{TF}
		\ganttlink{TF}{milestone}

	\end{ganttchart}
	\end{center}
	\caption{``Increment 5: \IncrementoCinco'' planning}
\end{figure}



\renewcommand{\Dlen}{\Docho}
\begin{figure}[H]
	\begin{center}
	\begin{ganttchart}[
		x unit=0.50cm,
		y unit title=1.0cm,
		y unit chart=1.0cm,
		vgrid,
		bar/.append style={fill=\Cnormal},
		milestone label font=\itshape\footnotesize,
		group label font=\bfseries\footnotesize,
		bar label font=\footnotesize,
		title label font=\footnotesize,
	]{1}{\Dlen}
		\newganttlinktypealias{straight}{f-s}
		\setganttlinklabel{straight}{}
		\gantttitle{Planning in days}{\Dlen} \\
		\gantttitlelist{1,...,\Dlen}{1} \\

	\newcommand{\Dstudy}{7}
	\newcommand{\Daction}{\the\numexpr \Dstudy + 2 \relax}


		\ganttgroup[name=pstudy]{Preliminary study and investigation}{1}{\Dstudy} \\
		\ganttbar[name=list]{Identify the attacks to detect}{1}{1} \\
		\ganttbar[name=attack]{Detailed study of each attack}{2}{4} \\
		\ganttbar[name=tools]{Detailed study related tools}{2}{4} \\
		\ganttbar[name=detection]{Exploration of detection options}{5}{\Dstudy} \\
		\ganttbar[name=fdetection]{Discard undetectable cases}{\Dstudy}{\Dstudy} \\
		\ganttbar[name=design]{Basic design of each attack}{\Dstudy}{\Dstudy} \\

		\ganttgroup[name=action]{Code the detection}{\the\numexpr \Dstudy + 1 \relax}{\Daction} \\
		\ganttbar[name=RD]{Writing rules and decoders}{\the\numexpr \Dstudy + 1 \relax}{\Daction} \\
		\ganttbar[name=actions, bar/.append style={fill=\Coptional},]{Automation of actions}{\Daction}{\Daction} \\

		\ganttgroup[name=TF]{Testing and fixing}{\the\numexpr \Daction + 1 \relax}{\Dlen} \\
		\ganttbar[name=test]{Testing}{\the\numexpr \Daction + 1 \relax}{\Dlen} \\
		\ganttbar[name=fix]{Fixing}{\the\numexpr \Daction + 1 \relax}{\Dlen} \\

		\ganttmilestone[name=milestone]{Certain attacks can be detected now}{\Dlen} \\

		\ganttlink[link type=straight]{list}{attack}
		\ganttlink{list}{tools}
		\ganttlink{attack}{detection}
		\ganttlink[link type=straight]{tools}{detection}
		\ganttlink{detection}{fdetection}
		\ganttlink{fdetection}{design}
		\ganttlink{pstudy}{action}
		\ganttlink{action}{TF}
		\ganttlink{TF}{milestone}

	\end{ganttchart}
	\end{center}
	\caption{``Increment 6: \IncrementoSeis'' planning}
\end{figure}





\renewcommand{\Dlen}{\Dnueve}
\begin{figure}[H]
	\begin{center}
	\begin{ganttchart}[
		x unit=0.50cm,
		y unit title=1.0cm,
		y unit chart=1.0cm,
		vgrid,
		bar/.append style={fill=\Cnormal},
		milestone label font=\itshape\footnotesize,
		group label font=\bfseries\footnotesize,
		bar label font=\footnotesize,
		title label font=\footnotesize,
	]{1}{\Dlen}
		\newganttlinktypealias{straight}{f-s}
		\setganttlinklabel{straight}{}
		\gantttitle{Planning in days}{\Dlen} \\
		\gantttitlelist{1,...,\Dlen}{1} \\

	\newcommand{\Dstudy}{7}
	\newcommand{\Daction}{\the\numexpr \Dstudy + 2 \relax}


		\ganttgroup[name=pstudy]{Preliminary study and investigation}{1}{\Dstudy} \\
		\ganttbar{Malware detection techniques with VirusTotal}{1}{\Dstudy} \\
		\ganttbar{Wazuh documentation on VirusTotal integration}{6}{\Dstudy} \\

		\ganttgroup[name=action]{Modifications needed}{\the\numexpr \Dstudy + 1 \relax}{\Daction} \\
		\ganttbar[name=RD]{Changes in the configuration}{\the\numexpr \Dstudy + 1 \relax}{\Daction} \\
		\ganttbar[name=hacks]{Writing custom attacks}{\the\numexpr \Dstudy + 1 \relax}{\Daction} \\
		\ganttbar[name=actions, bar/.append style={fill=\Coptional},]{Automation of actions}{\Daction}{\Daction} \\

		\ganttgroup[name=TF]{Testing and fixing}{\the\numexpr \Daction + 1 \relax}{\Dlen} \\
		\ganttbar[name=test]{Testing}{\the\numexpr \Daction + 1 \relax}{\Dlen} \\
		\ganttbar[name=fix]{Fixing}{\the\numexpr \Daction + 1 \relax}{\Dlen} \\

		\ganttmilestone[name=milestone]{Detection based on VirusTotal}{\Dlen} \\

		\ganttlink{pstudy}{action}
		\ganttlink{action}{TF}
		\ganttlink{TF}{milestone}

	\end{ganttchart}
	\end{center}
	\caption{``Increment 7: \IncrementoSiete'' planning}
\end{figure}





\renewcommand{\Dlen}{\Ddiez}
\begin{figure}[H]
	\begin{center}
	\begin{ganttchart}[
		x unit=0.45cm,
		y unit title=1.0cm,
		y unit chart=1.0cm,
		vgrid,
		bar/.append style={fill=\Cnormal},
		milestone label font=\itshape\footnotesize,
		group label font=\bfseries\footnotesize,
		bar label font=\footnotesize,
		title label font=\footnotesize,
	]{1}{\Dlen}
		\newganttlinktypealias{straight}{f-s}
		\setganttlinklabel{straight}{}
		\gantttitle{Planning in days}{\Dlen} \\
		\gantttitlelist{1,...,\Dlen}{1} \\


		\ganttgroup[name=repo]{Ruleset repository}{1}{3} \\
		\ganttbar[name=revision]{Revision of the guidelines of the official repository}{1}{3} \\
		\ganttmilestone[name=rmilestone]{Pull request to the official repository}{3} \\

		\ganttgroup[name=documentation]{Documentation of the project}{1}{\Dlen} \\
		\ganttbar[name=memory]{Project memory}{1}{12} \\
		\ganttbar[name=other, bar/.append style={fill=\Coptional},]{Other documentation}{12}{12} \\
		\ganttbar[name=presentation]{Project presentation}{13}{\Dlen} \\
		\ganttmilestone[name=dmilestone]{Project documentation}{\Dlen} \\

		\ganttlink{revision}{rmilestone}

		\ganttlink{memory}{dmilestone}
		\ganttlink{presentation}{dmilestone}

	\end{ganttchart}
	\end{center}
	\caption{``Closing of the project'' planning}
\end{figure}







%makes no sense by days
%\begin{figure}[h!bt]
%	\begin{center}
%	\begin{ganttchart}[
%	hgrid style/.style={draw=black, line width=.3pt},
%	vgrid={*1{draw=black!5, line width=.75pt}},
%	link/.style={-latex},
%	]{1}{\Duno}
%		\newganttlinktypealias{straight}{f-s}
%		\setganttlinklabel{straight}{}
%		\gantttitle{Planning in days}{\Duno} \\
%		\gantttitlelist{1,...,\Duno}{1} \\
%
%		\ganttgroup[name=Management]{Project management}{1}{\Duno} \\
%
%		\ganttbar[name=Scope]{Scope management}{1}{1}
%		\ganttbar[name=Requirement]{Requirement management}{1}{\Frequirement}
%        \ganttbar[name=Risk]{Risk management}{\Frequirement}{15}
%        \ganttbar[name=Time]{Time management}{\Frequirement}{\Duno}
%        \ganttbar[name=Configuration]{Configuration management}{\Frequirement}{10}
%        \ganttbar[name=Cost]{Cost management}{\Frequirement}{}
%
%		\ganttlink[link type=straight]{Scope}{Requirement}
%		\ganttlink[link type=straight]{Requirement}{Risk}
%		\ganttlink[link type=straight]{Requirement}{Time}
%		\ganttlink[link type=straight]{Requirement}{Configuration}
%		\ganttlink[link type=straight]{Requirement}{Cost}
%
%	\end{ganttchart}
%	\end{center}
%	\caption{Detailed planning of ``Project management''}
%\end{figure}






\subsection{Real planning}

\newcommand{\PStart}{2018-11-01}
\newcommand{\FBeginning}{2018-11-07}
\newcommand{\SIncrementoUnoDos}{2018-11-08}
\newcommand{\FIncrementoUnoDos}{2018-12-12}
%\newcommand{\FIncrementoTres}{}
%\newcommand{\FIncrementoCuatro}{}
%\newcommand{\FIncrementoCinco}{}
%\newcommand{\FIncrementoSeis}{}
%\newcommand{\FIncrementoSiete}{}
\newcommand{\SClosing}{2019-02-02}
\newcommand{\PClosing}{2019-02-20}


\begin{figure}[H]
	\begin{center}
	\begin{ganttchart}[
		time slot format=isodate,
		time slot format/start date=\PStart,
		x unit=0.10cm,
		y unit title=1.0cm,
		y unit chart=1.0cm,
		bar/.append style={fill=\Cnormal},
		milestone label font=\itshape\footnotesize,
		group label font=\bfseries\footnotesize,
		bar label font=\footnotesize,
		title label font=\footnotesize,
		title height=0.5,
		title top shift=-.5,
		%vgrid
	]{\PStart}{\PClosing}
		\newganttlinktypealias{straight}{f-s}
		\setganttlinklabel{straight}{}
		\gantttitlecalendar{year, month=name}

		\ganttgroup{Project management}{\PStart}{\PClosing} \\
		\ganttbar[name=Beginning]{Beginning of the project}{\PStart}{\FBeginning} \\
		\ganttbar[name=Increment1]{Increment 1 and 2}{\SIncrementoUnoDos}{\FIncrementoUnoDos} \\
		%\ganttbar[name=Increment3}]{Increment 3}{}{} \\
		%\ganttbar[name=Increment4]{Increment 4}{}{} \\
		%\ganttbar[name=Increment5]{Increment 5}{}{} \\
		%\ganttbar[name=Increment6]{Increment 6}{}{} \\
		%\ganttbar[name=Increment7]{Increment 7}{}{} \\
		\ganttbar[name=Closing]{Closing of the project}{\SClosing}{\PClosing} \\

		\ganttlink[link type=straight]{Beginning}{Increment1}
		%\ganttlink[link type=straight]{Increment1}{Increment3}
		%\ganttlink[link type=straight]{Increment3}{Increment4}
		%\ganttlink[link type=straight]{Increment4}{Increment5}
		%\ganttlink[link type=straight]{Increment5}{Increment6}
		%\ganttlink[link type=straight]{Increment6}{Increment7}
		%\ganttlink[link type=straight]{Increment7}{Closing}

	\end{ganttchart}
	\end{center}
	\caption{Planning simplification}
\end{figure}



\begin{figure}[H]
	\begin{center}
	\begin{ganttchart}[
		time slot format=isodate,
		time slot format/start date=\PStart,
		x unit=0.80cm,
		y unit title=1.0cm,
		y unit chart=1.0cm,
		bar/.append style={fill=\Cnormal},
		milestone label font=\itshape\footnotesize,
		group label font=\bfseries\footnotesize,
		bar label font=\footnotesize,
		title label font=\footnotesize,
		title height=0.5,
		title top shift=-.5,
		vgrid
		]{\PStart}{\FBeginning}
		\newganttlinktypealias{straight}{f-s}
		\setganttlinklabel{straight}{}
		\gantttitlecalendar{month=name, week, day}


		\ganttgroup[name=prel]{Preliminary study and investigation}{\PStart}{2018-11-05} \\
		\ganttbar[name=Wazuh,bar/.append style={fill=\Cnormal}]{Wazuh documentation}{\PStart}{2018-11-02} \\
		\ganttbar[name=Pentesting,bar/.append style={fill=\Cnormal}]{Pentesting tools}{\PStart}{2018-11-05} \\
		\ganttmilestone[name=fmilestone]{Basic knowledge of the technologies}{2018-11-05} \\

		\ganttgroup[name=workenv]{Work environment preparations}{2018-11-06}{2018-11-07} \\
		\ganttbar[name=InstallVM,bar/.append style={fill=\Cnormal}]{Installing virtual machines}{2018-11-06}{2018-11-06} \\
		\ganttbar[name=settingW,bar/.append style={fill=\Cnormal}]{Setting up Wazuh}{2018-11-06}{2018-11-07} \\
		\ganttbar[name=settingO,bar/.append style={fill=\Cnormal}]{Setting up other tools}{2018-11-06}{2018-11-07} \\

		\ganttmilestone[name=milestone]{Ready to start the first increment}{\FBeginning} \\

		\ganttlink{prel}{workenv}
		\ganttlink[link type=straight]{Wazuh}{fmilestone}
		\ganttlink[link type=straight]{Pentesting}{fmilestone}
		\ganttlink[link type=straight]{InstallVM}{settingW}
		\ganttlink{InstallVM}{settingO}
		\ganttlink{settingW}{milestone}
		\ganttlink[link type=straight]{settingO}{milestone}

	\end{ganttchart}
	\end{center}
	\caption{``Beginning of the project'' planning}
\end{figure}




